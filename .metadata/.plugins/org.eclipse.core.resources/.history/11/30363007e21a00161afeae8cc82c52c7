package core;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.io.PrintStream;
import java.nio.file.Files;
import java.nio.file.Path;

public class CoreUtils {
	public static String[] Nbyte = { "B", "K", "M", "G", "T" };
	public static String fileImage = "data:image/png;base64,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";
	public static String folderImage = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAxRJREFUeJzt3b1qFFEYh/FHEzGCGtCoYGVjI1h5EZLSO9BC7yA34BWYTsQLEGwl2KVWsBDEj0qsREWNxiAxXxaTgBg22d15z5kze54fnPZlZuef953NzM6AJEmSJEmSJEmSJEmSJEmSJElDOQIcTVRXhboGLAM/gZ3EawtYBd4B94DTGfZPB5gBPpL+wA9az4GTyfdSA83T3cHfW0vAdOod7bMUM3nP1YS1hzUPPMDzhIFSBuBiwtqjuEVzTqDMHtH9CPh3LWInyGqZ7g/6/+sxMJtyp/tmKmHtBeB8wvrjuALcBE4A67trE9jucJsm1he6/4vv+1oHXgI3Rvzsh5ZqJk4DfxLWr80GcBn4EF041beAOTz4kY4B11MUThWA0mb/JLiUoqgB6I8k1zYMQH8kua6RKgAXEtWtWa8CYAeIZwAqdypF0VQBOJeobs161QE8B4jXqwDMJapbM+9ukiRJxbkNPKO5L7/ra+iTvtaAV8BdmlvvO7dA9x9KrevhEMfnQBHX7N+T6FKlDvUNONumQEQAtoPqaHRbtPzhS8Q/grYCamg8v9oWiAjAt4AaGs/3tgUMQL+ttC1gAPrNDlA5A1A5R0DliugAXwNqaDxFBMAO0B1HQOXsAJUzAJVzBFSuiA7gt4DutA5A1GXcDXweXxdmaJ4iMrao3wW0nkUa2W9aHnyIC4DnAfm1bv9gAPospOtGBcATwfzsAJUzAJUragQYgPzsAJUrKgCeBObnCKhcUR3AAORnACrnCKhcUR1gBV+6kFtRAdghaIM0tKJGADgGctqkeRpLawagn8LuvzAA/WQAKhd2vhUZAP8dnE+RAbAD5OMIqJwdoHIGoHKOgMoV2QH8FpBPkQGwA+RT5AjwimA+RXaAbeBHYD0NVmQAwDGQS5EjADwRzGEHA1C1VQKf0B4dgM/B9bTfp8hi0QF4HVxP+72JLBYdgCfB9bTfUtcbcJhFun+Z0qSuF8Dx4Q/F4aYii+16SvMiqTPALM0G+06h8a0Bb4H7wB2aZwNJkiRJkiRJkiRJkiRJkiRJkiTxFzBrhnXae7wQAAAAAElFTkSuQmCC";
	public static String backImage = "data:image/png;base64,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";

	public static void log(String message) {
		log(message, System.out);
	}

	public static void log(String message, PrintStream out) {
		out.println("SERVER>> " + message);
	}

	public static String readLocalFile(String path) {
		StringBuilder result = new StringBuilder();
		try {
			BufferedReader reader = new BufferedReader(new FileReader(path));
			String line;
			while ((line = reader.readLine()) != null) {
				result.append(line).append("\n");
			}
			reader.close();
		} catch (IOException e) {
			System.err.println("Could not read file!");
			e.printStackTrace();
			System.exit(-1);
		}
		return result.toString();
	}

	public static byte[] getNav(File root, String uri) {
		String[] navParts = readLocalFile("res/nav.html").split("SEPERATOR");
		String back = "/";
		String result = navParts[0].replace("[directory]", uri).replace("[bimg]", backImage).replace("[back]", "/");

		File[] files = root.listFiles();
		for (File file : files) {
			String name = file.getName();
			String size = "-";
			String image = "";
			if (file.isFile()) {
				double byteAmount = (double) file.length();
				int index = 0;
				for (int i = 0; i < 5; i++) {
					if (byteAmount < 1000) {
						index = i;
						break;
					}
					byteAmount /= 1000.0;
				}
				size = ((int) (byteAmount * 10)) / 10.0 + Nbyte[index];

				image = fileImage;
			} else if (file.isDirectory()) {
				image = folderImage;
			}

			String table = navParts[1].replace("[file]", name).replace("[size]", size).replace("[img]", image);
			if (uri.equals("/")) {
				table = table.replace("[root]", "/");
			} else {
				table = table.replace("[root]", uri + "/");
			}

			result += table;
		}

		result += navParts[2];

		return result.getBytes();
	}

	public static byte[] readFile(File root) {
		Path path = root.toPath();
		byte[] bytes = null;
		try {
			bytes = Files.readAllBytes(path);
		} catch (IOException e) {
			CoreUtils.log("Could not find file: " + root.getPath(), System.err);
		}
		return bytes;
	}

	public static byte[] error(String uri) {
		String result = "No such file or directory with name " + uri.replace("%20", " ");
		return result.getBytes();
	}
}
